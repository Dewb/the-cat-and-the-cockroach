<!DOCTYPE html>
<html>
<head>
	<title></title>
    <script src="jquery.min.js"></script>
    <script src="audio.js"></script>
    <script src="modes/basic_paper.js"></script>
    <script src="http://localhost:8000/socket.io/socket.io.js"></script>
	<style>
  		@font-face {
 			font-family: 'UnderwoodChampion';
  			src: url('uwch.ttf');
		}
  		body { 
  			font-family: "UnderwoodChampion"; background-color: white; color: black; font-size: 22pt;
  			width: 100%; height: 100%;;
  		}
  		canvas { -webkit-transform: translate3d(0, 0, 0); }

	</style>
	<script>

  function initAudio() {
    window.soundPlayer = new RapidSoundPlayer(window.context, [
      "media/ddohler_keyhit.wav",
      "media/bell.wav",
      "media/pullback_1.wav",
      "media/pullback_2.wav",
      "media/pullback_3.wav",
      "media/pullback_4.wav",
      "media/pullback_5.wav"
    ]);
  }

  function getRandomIndex(minInclusive, maxInclusive) {
    return Math.floor(Math.random() * (maxInclusive + 1 - minInclusive)) + minInclusive;
  }

	$(document).ready(function() {

    initAudio();

		var socket = io("http://localhost:8000", { 'path': '/socket.io' });

    window.currentScreenMode = new BasicPaperMode($(document.body), { lineLength: 46, defaultText: false });

		socket.on('t', function (data) {
      currentScreenMode.onKeyHit(data);
		});

    socket.on('changeScreenMode', function (modeName) {
      if (modeName == "BasicPaper") {
        window.currentScreenMode = new BasicPaperMode($(document.body), { lineLength: 46, defaultText: false });
      } else {

      }
    });

		socket.on('reload', function() {
			window.location.reload();
		});
	});
	</script>
</head>
<body>
</body>
